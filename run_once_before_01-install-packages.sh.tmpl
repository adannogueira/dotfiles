#!/bin/bash
set -e

echo "Installing system packages..."

# Detect package manager and install packages
if command -v apt-get &> /dev/null; then
    # Debian/Ubuntu
    sudo apt-get update -y
    sudo apt-get install -y \
        bat \
        curl \
        git \
        zsh \
        ripgrep \
        fd-find \
        fzf \
        build-essential \
        fuse \
        libfuse2 \
        gnupg2 \
        gpg
elif command -v pacman &> /dev/null; then
    # Arch Linux
    sudo pacman -Sy --noconfirm \
        bat \
        curl \
        git \
        zsh \
        ripgrep \
        fd \
        fzf \
        base-devel \
        fuse2 \
        gnupg
elif command -v dnf &> /dev/null; then
    # Fedora
    sudo dnf install -y \
        bat \
        curl \
        git \
        zsh \
        ripgrep \
        fd-find \
        fzf \
        fuse \
        fuse-libs \
        gnupg2
fi
